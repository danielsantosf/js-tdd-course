<!DOCTYPE html>
<html>
  <head>
    <title> Async/await</title>
  </head>

  <body>

  </body>

  <script>

    // works accordingly to the promise protocol
    //async is the keyword used when starting an asynchronous function
    //await is used right before what needs to be resolved in order to advance int the execution
    //await can ONLY be used with an async function
    //async/await works in almost all browsers and NodeJS
    //Avantages: -simpler code
    /*           -easier to debug as it has fewer callbacks
                 -conversion from promise to async/await is straightforward
                 -code features less chaining*/
    async function getPosts() {
      try{
        const response = await fetch('https://willianjusten.com.br/search.json');

        // const data = await response.json();
        return data.map(post => {
          console.log(post.title);
        });
    }
    catch(err) {
      console.error('Bummer, you\'ve got an error, henny', err);
    }
  }
    getPosts();
  </script>
</html>
